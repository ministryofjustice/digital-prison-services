{% extends "../partials/layout.njk" %}

{% from "govuk/components/table/macro.njk" import govukTable %}
{%- from "moj/components/pagination/macro.njk" import mojPagination -%}

{% set title = 'Global search results' %}

{% block beforeContent %}
  {{ govukBreadcrumbs({
    items: [
      {
        text: "Home",
        href: dpsUrl
      },
      {
        text: "Global search",
        href: '/global-search'
      },
      {
        text: 'Results'
      }
    ],
    classes: 'govuk-!-display-none-print'
  })
  }}
{% endblock %}

{% block content %}
  <h1 class="govuk-heading-l">
    {{title}}
  </h1>

  {% include './partials/globalSearchForm.njk' %}

  {% if results.length %}
    {{ mojPagination(pagination) }}

    {% include './partials/globalSearchList.njk' %}

    {{ mojPagination(pagination) }}
  {% else %}
    <p class="govuk-body">No records found matching search criteria.</p>
  {% endif %}
{% endblock %}
